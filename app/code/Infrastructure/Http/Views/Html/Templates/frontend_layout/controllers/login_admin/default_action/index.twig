{#
    Object          u                       Urlbuilder
    Object          data                    Romchik38\Site2\Infrastructure\Http\Actions\GET\Login\Admin\DefaultAction\ViewDTO
    string          template_full_prefix    path to this folder
#}

{% extends "base_layouts.twig" %}

{% block content %}
<div class="container-sm">
    <div class="row justify-content-center">
        <h1 class="text-center">{{ data.name }}</h1>
        <div class="col">
            {% if data.adminUser is null %}
                <p class="lead my-5 p-3 bg-light border-start border-5">{{ t.t('page.login-admin.lead')|raw }}</p>
                <div class="col-md-6 col-lg-4 mx-auto">
                    <h2 class="text-center">{{ t.t('page.login.provide-login-credentials') }}</h2>
                    <form class="border bg-light rounded-3 p-4" action="{{ data.authUrl }}" method="post">
                        <label for="{{ data.userNameField }}">{{ t.t('page.login.enter-username') }}: </label>
                        <input class="form-control" type="text" name="{{ data.userNameField }}" id="{{ data.userNameField }}" required autofocus /><br>
                        <label for="{{ data.passwordField }}">{{ t.t('page.login.enter-password') }}: </label>
                        <input class="form-control" type="password" name="{{ data.passwordField }}" id="{{ data.passwordField }}" required /><br>
                        <input class="btn btn-secondary" type="submit" value="{{ t.t('Log In') }}" />
                        <input type="hidden" name="{{ visitor.getCsrfTokenField() }}" value="{{ visitor.getCsrfToken() }}" />
                    </form>
                    <br>
                </div>
            {% else %}
                <p>{{ t.t('page.login-admin.already') }} <a href="{{ u.fromArray(['root', 'admin']) }}">{{ t.t('admin-login.page-name') }}</a>.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}