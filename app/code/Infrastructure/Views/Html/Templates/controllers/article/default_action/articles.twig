{#    null|Object             translate                   Translate service #}
{#    ArticleDTO[]            articles                    A list of article DOTs #}
{#    PaginationDTO           pagination                  data to create page pagination #}

{% set firstArticle = articles|first %}
<!-- Primary publication start -->
<div class="col">
    <div class="row">
        <div class="col-md-8">
            <picture>
                <source media="(max-width: 636px)"
                    srcset="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-576.webp">
                <source media="(max-width: 992px)"
                    srcset="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-720.webp">
                <source media="(min-width: 992px)"
                    srcset="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-1080.webp">
                <img class="img-fluid"
                    src="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-1080.webp"
                    alt="">
            </picture>
        </div>
        <div class="col-md-4">
            <h2>{{ firstArticle.name }}</h2>
            <p>{{ firstArticle.shortDescription }}</p>
            <footer class="row text-secondary">
                <div class="col-6 font-monospace comments">{{ firstArticle.readLength }} {{ translate.t('article.read') }}</div>
                <div class="col-6 font-monospace comments">{{ firstArticle.formattedCreatedAt }}</div>
            </footer>
        </div>
    </div>
</div>
<!-- Primary publication end -->

<!-- publication start -->     
<div class="col mt-3">
    {% set articleLength = articles|length %}
    {% for article in articles|slice(1,articleLength) %}

    <div class="row my-4">
        <div class="col-sm-3">
            <picture>
                <source media="(max-width: 636px)"
                    srcset="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-576.webp">
                <source media="(max-width: 992px)"
                    srcset="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-720.webp">
                <source media="(min-width: 992px)"
                    srcset="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-1080.webp">
                <img class="img-fluid"
                    src="/media/img/articles/dokazi-po-spravi/1-5/dokazi-po-spravi-1080.webp"
                    alt="">
            </picture>
        </div>
        <div class="col-sm-9">
            <h3>{{ article.name }}</h3>
            <p>{{ article.shortDescription }}</p>
            <footer class="row text-secondary">
                <div class="col-6 font-monospace comments">{{ article.readLength }} {{ translate.t('article.read') }}</div>
                <div class="col-6 font-monospace comments">{{ article.formattedCreatedAt }}</div>
            </footer>
        </div>
    </div>

    {% endfor %}

</div>
<!-- publication end -->

<!-- pagination -->
<div class="border">
    {% set remainder = pagination.totalCount - pagination.displayed %}
    <div>Displayed: {{ pagination.displayed }} </div>
    <div>Total: {{ pagination.totalCount }}</div>
    <div>Limit: {{ pagination.limit }}</div>
    <div>Offset: {{ pagination.offset }}</div>
    <div>Remainder: {{ remainder }} </div>

    {% if remainder > 0 %}
        show pagination
        {% if pagination.offset == 0 %}
            {# first #}
            <div>first</div>
            {% set displayed_pages = pagination.totalCount/pagination.limit|round(0,'ceil')  %}
            {% if displayed_pages > 5 %}
                {% set displayed_pages = 5 %}
            {% endif %}
            <div>displayed pages: {{ displayed_pages }}</div>




        {% elseif pagination.offset+1 >= pagination.totalCount/pagination.limit %}
            {# last #}
            last
        {% else %}
            {# between #}
            between
        {% endif %}
    {% endif %}
</div>